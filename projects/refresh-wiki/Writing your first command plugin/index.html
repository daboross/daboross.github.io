<!DOCTYPE html>
<html><head><title>This page contains a tutorial on creating a command plugin.</title><meta charset=utf-8><meta name=viewport content="width=device-width, initial-scale=1.0"><link rel=icon type=image/png href=/favicon.png><link href=/assets/documentation.css?b0fcf9b2 rel=stylesheet></head><body><div class=container><div class=row><div class="col-md-8 col-md-offset-1 col-xs-12 col-xs-offset-0"><div class=list-group><div class=list-group-item><h1>This page contains a tutorial on creating a command plugin.</h1><h3>Example command</h3><p>The command hook can be used to register a command in CloudBot.</p><p>Here&#39;s an example command which will return the input given to it, added to itself.</p><div class=highlight><pre><span></span><span class=kn>from</span> <span class=nn>cloudbot</span> <span class=kn>import</span> <span class=n>hook</span>

<span class=nd>@hook.command</span><span class=p>()</span>
<span class=k>def</span> <span class=nf>echo</span><span class=p>(</span><span class=n>text</span><span class=p>):</span>
    <span class=k>return</span> <span class=n>text</span> <span class=o>+</span> <span class=s2>&quot; &quot;</span> <span class=o>+</span> <span class=n>text</span>
</pre></div><h4>How you can use commands</h4><p>This defines a command that replies with its input, added together. The <strong>@hook.command()</strong> tells CloudBot that the function should be registered as a bot command.</p><p>Any bot command can be called from an irc channel in the following ways:</p><div class=highlight><pre><span></span>- .&lt;command&gt; &lt;arguments&gt;
- TestBot: &lt;command&gt; &lt;arguments&gt;
- TestBot; &lt;command&gt; &lt;arguments&gt;
- TestBot, &lt;command&gt; &lt;arguments&gt;
</pre></div><p>This is assuming that the bot&#39;s name is <strong>TestBot</strong>, and that the <strong>command_prefix</strong> is set to &#39;.&#39; in the bot&#39;s config.</p><h4>A bit more on what the &#39;echo&#39; function actually does</h4><p>If you look at the &#39;echo&#39; command, you can see that it&#39;s pretty simple. It accepts a variable, <code>text</code>, and it returns <code>text + &quot; &quot; + text</code>.</p><p>The &#39;text&#39; variables represents the arguments for that are used with the command. Then CloudBot will take anything returned by the function, and spit it back into the irc channel.</p><p>Here&#39;s an example of what would happen with this &#39;echo&#39; plugin:</p><div class=highlight><pre><span></span>&lt;Luke&gt; TestBot, echo hi
&lt;TestBot&gt; (Luke) hi hi
</pre></div><h4>Other ways you can use it</h4><p>The &#39;echo&#39; command is called with &#39;TestBot, echo&#39;, just because the function name is &#39;echo&#39;, however you can pass @hook.command a different name if you wanted to, or even multiple names.</p><p>Take this plugin for example: ``` from cloudbot import hook</p><p>@hook.command(&quot;simpleecho&quot;) def simple(text): return text + &quot; &quot; + text</p><p>@hook.command(&quot;complexecho1&quot;, &quot;com&quot;) def complex(text): return text + &quot; &quot; + text + &quot; &quot; + text ```</p><p>That plugin adds two command, one called &#39;simple&#39; and one &#39;complex&#39;. However, because @hook.command was called with the &quot;simpleecho&quot; parameter, the command will be called with <code>TestBot, simpleecho</code>, not <code>TestBot, simple</code>.</p><p>The same with &#39;complex&#39;. You can call it with <code>TestBot, complexecho1</code>, or <code>TestBot, com</code>.</p></div></div></div></div></div></body></html>